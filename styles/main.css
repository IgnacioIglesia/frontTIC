:root {
  --bg: #f6f6f7;
  --text: #1b1b1f;
  --muted: #6b7280;
  --card: #fff;
  --ring: #e5e7eb;
  --brand: #004225;
  --brand-dark: #0b2e1f;
  --chip: #eaf3ef;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,'Noto Sans',sans-serif;
  color: var(--text);
  background: var(--bg);
}

.container { max-width: 1100px; margin: auto; padding: 16px; }

/* ===== HEADER ===== */
header {
  position: sticky;
  top: 0;
  z-index: 10;
  background: #ffffffcc;
  backdrop-filter: blur(8px);
  border-bottom: 1px solid var(--ring);
  transition: box-shadow .2s ease, border-color .2s ease, background .2s ease, backdrop-filter .2s ease;
}
header.is-scrolled {
  box-shadow: 0 6px 18px rgba(0,0,0,.10);
}

.top {
  display: flex;
  gap: 12px;
  align-items: center;
  justify-content: space-between;
  padding-left: 4px;
}

.brand-wrap {
  display: flex;
  align-items: center;
  margin-left: -6px;
}
.logo-link {
  display: inline-block;
}
.brand-wrap img.logo {
  height: clamp(56px, 6.2vw, 78px);
  width: auto;
  display: block;
  border-radius: 8px;
}

.search {
  flex: 1;
  margin: 0 12px;
  position: relative;
}
.search input {
  width: 100%;
  height: 42px;
  padding: 8px 12px;
  border: 1px solid var(--ring);
  border-radius: 12px;
  font-size: 14px;
  background: #fff;
}

.actions {
  display: flex;
  align-items: center;
  gap: 10px;
}

header .header-messages {
  font-size: 12px;
  font-weight: 500;
  color: var(--brand-dark);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  min-width: 220px;   /*  ancho m铆nimo fijo */
  text-align: center; /*  texto centrado */
}

/* ===== SUBNAV ===== */
.subnav{
  background: transparent;
  border-top: 1px solid #edf0f2;
}
.subnav-inner{
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 16px;
  padding: 8px 16px;
}
.loc-link{
  display: inline-flex; align-items: center; gap: 8px;
  color:#111; text-decoration:none; padding: 6px 12px 6px 0; line-height:1;
  border-right: 1px solid #e8ebee; margin-right: 12px;
}
.loc-ic{ display:block; }
.loc-line{ font-size:14px; font-weight:600; white-space:nowrap; }

.subnav-center{
  display: flex;
  justify-content: space-evenly;
  gap: 12px;
}
.subnav-link{
  color:#111; text-decoration:none; font-weight:600; font-size:14px;
  line-height:1; padding:6px 8px; opacity:.9; transition:opacity .2s ease;
}
.subnav-link:hover{ opacity:1; }
.subnav-right{ display:flex; justify-content:flex-end; }

@media (max-width: 820px){
  .subnav-inner{ grid-template-columns: 1fr; row-gap: 6px; }
  .subnav-left{ order: 1; }
  .subnav-center{ order: 2; flex-wrap: wrap; justify-content: center; gap: 8px 16px; }
  .subnav-right{ order: 3; justify-content: center; }
}

/* ===== BOTONES ===== */
.pill, a.pill {
  display:inline-flex; align-items:center; gap:8px;
  padding:7px 10px; border:1px solid #cfe3d8; border-radius:12px;
  background:var(--chip); color:var(--brand); font-weight:600; line-height:1;
  transition:transform .08s ease, box-shadow .2s ease, background .2s ease, color .2s ease, border-color .2s ease;
  cursor:pointer; text-decoration:none !important;
}
.pill:hover, a.pill:hover {
  background:var(--brand); color:#fff; border-color:var(--brand);
  box-shadow:0 6px 14px rgba(0,0,0,.12); transform:translateY(-1px);
}
.pill:active, a.pill:active { transform:translateY(0); box-shadow:0 3px 8px rgba(0,0,0,.10); }

.btn-login {
  display:inline-flex; align-items:center; justify-content:center;
  padding:7px 14px; border:2px solid var(--brand); border-radius:12px;
  background:#fff; color:var(--brand); font-weight:600; text-decoration:none; transition:all .2s ease;
}
.btn-login:hover { background:var(--brand); color:#fff; }

/* ===== HERO ===== */
.hero {
  width: 100vw;
  margin-left: calc(-50vw + 50%);
  min-height: 560px;
  position: relative;
  background-size: cover; background-position: center; background-repeat: no-repeat;
  display:flex; align-items:center; justify-content:center;
  color:#fff; text-align:center; transition: background-image 1s ease-in-out;
  overflow:hidden;
}
.hero::before { content:""; position:absolute; inset:0; background:rgba(0,0,0,.45); z-index:0; }
.hero .copy { position:relative; z-index:1; padding:40px 24px; }
.hero h1 { font-size:clamp(28px, 4vw, 48px); line-height:1.1; margin:0; font-weight:800; text-shadow:0 2px 10px rgba(0,0,0,.35); }
.hero-sub { margin-top:12px; font-size:16px; font-weight:400; color:#f1f1f1; text-shadow:0 2px 6px rgba(0,0,0,.4); }
@media (min-width:768px){ .hero-sub{ font-size:18px; } }
@media (max-width:768px){ .hero{ min-height:420px; } }

/* ===== FILTROS + GRID ===== */
.filters { display:grid; grid-template-columns:1fr 1fr; gap:8px; margin:12px 0; }
@media (min-width:800px){ .filters{ grid-template-columns:repeat(4,1fr); } }
.range { accent-color: var(--brand); }
.grid { display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px; }
@media (min-width:800px){ .grid{ grid-template-columns:repeat(4,minmax(0,1fr)); } }
@media (max-width: 768px){
  .brand-wrap img.logo { height: 56px; }
  .brand-wrap { margin-left: 0; }
}


/* Cards */
.card { display:flex; flex-direction:column; justify-content:space-between; background:#fff; border-radius:12px; overflow:hidden; border:1px solid var(--ring); }
.card .media {
  position: relative;
  border-radius: 12px;
  overflow: hidden;
  background: #e9ecef;
  min-height: clamp(260px, 32vw, 360px); /* alto fijo pero responsivo */
}

.card .media img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}
.card .body { display:flex; flex-direction:column; justify-content:space-between; height:100%; padding:8px; }
.card .meta { display:flex; justify-content:space-between; align-items:flex-start; gap:8px; margin-top:6px; margin-bottom:6px; }
.card .btn { margin-top:auto; }
.price{ font-weight:700; }
.muted{ color:var(--muted); font-size:12px; }
.btn{ cursor:pointer; display:inline-flex; align-items:center; justify-content:center; gap:8px; border:none; padding:10px 12px; border-radius:12px; }
.btn.primary{ background:var(--brand); color:#fff; }
.btn.primary:hover{ background:var(--brand-dark); }
select, .range{ width:100%; padding:10px; border:1px solid var(--ring); border-radius:12px; background:#fff; }

/* ===== FOOTER ===== */
.site-footer { text-align:center; padding:24px 16px; color:var(--muted); }

/* ===== Search dropdown ===== */
.search-menu{
  position:absolute; top:calc(100% + 6px); left:0; right:0;
  background:#fff; border:1px solid var(--ring); border-radius:12px;
  box-shadow:0 12px 24px rgba(0,0,0,.12); padding:8px; max-height:340px; overflow:auto; z-index:20;
}

/* ===== Overlay ===== */
.overlay{ position:fixed; inset:0; background:rgba(0,0,0,.35); opacity:0; pointer-events:none; transition:opacity .2s ease; z-index:90; }
.overlay.show{ opacity:1; pointer-events:auto; }

/* ===== Modal Ubicaci贸n ===== */
.modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:120; }
.modal.open{ display:flex; }
.modal-card{
  width:min(640px, calc(100vw - 32px));
  background:#fff; border:1px solid var(--ring); border-radius:16px;
  box-shadow:0 20px 60px rgba(0,0,0,.25); padding:18px;
}
.modal-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:6px; }
.modal-head h3{ margin:0; font-size:18px; }
.modal-close{ background:none; border:none; font-size:20px; cursor:pointer; line-height:1; }
.loc-form{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.loc-form .field{ display:flex; flex-direction:column; gap:6px; }
.loc-form label{ font-size:12px; color:var(--muted); }
.loc-form select{ padding:10px; border:1px solid var(--ring); border-radius:12px; background:#fff; }
.actions-row{ grid-column:1 / -1; display:flex; justify-content:flex-end; gap:10px; margin-top:6px; }

/* ================= PANEL LATERAL (carrito & favoritos) ================= */
.cart-menu{
  position: fixed;
  top: 0;
  right: -100%;
  width: 320px;
  height: 100%;
  background:#fff;
  box-shadow:-4px 0 12px rgba(0,0,0,.15);
  display:flex;
  flex-direction:column;
  transition:right .30s ease;
  z-index:100;
}
/* defensa por si alguna regla pisa right */
.cart-menu:not(.open){ right:-100% !important; }
.cart-menu.open{ right:0; }

.cart-header{ display:flex; justify-content:space-between; align-items:center; padding:16px; border-bottom:1px solid var(--ring); }
.cart-items{ flex:1; overflow-y:auto; padding:16px; }
.cart-footer{ padding:16px; border-top:1px solid var(--ring); display:flex; flex-direction:column; gap:12px; }
.close-btn{ background:none; border:none; font-size:20px; cursor:pointer; }
.checkout-btn{ width:100%; }
.cart-item{ display:grid; grid-template-columns:auto 1fr auto; gap:10px; align-items:center; padding:8px 0; border-bottom:1px solid #f0f0f0; }
.cart-item img{ width:54px; height:54px; object-fit:cover; border-radius:8px; background:#eee; }
.cart-item .meta{ display:flex; flex-direction:column; font-size:13px; }
.cart-item .qty{ display:flex; align-items:center; gap:6px; }
.cart-item button.icon{ border:1px solid var(--ring); background:#fff; border-radius:8px; padding:2px 8px; cursor:pointer; }

/* ===== RASTREAR (pantalla completa) ===== */
.track-full {
  min-height: calc(100vh - 120px);
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 40px 20px;
  background: var(--bg);
}
.track-card {
  background:#fff;
  border:1px solid var(--ring);
  border-radius:16px;
  padding:40px 32px;
  max-width:520px;
  width:100%;
  text-align:center;
  box-shadow:0 4px 14px rgba(0,0,0,.08);
}
.track-title {
  display:flex;
  align-items:center;
  justify-content:center;
  gap:12px;
  margin-bottom:20px;
}
.track-form { display:grid; gap:16px; }
.track-form .field{ display:flex; flex-direction:column; gap:8px; text-align:left; }
.track-form label{ font-size:12px; color:var(--muted); }
.track-form input {
  height:46px;
  padding:10px 14px;
  border:1px solid var(--ring);
  border-radius:12px;
  font-size:15px;
}
.track-result {
  margin-top:24px;
  padding:16px;
  border:1px dashed var(--ring);
  border-radius:12px;
  background:#fafafa;
}

/* Campos adicionales para Ayuda */
.track-form textarea {
  min-height: 140px;
  resize: vertical;
  padding: 12px 14px;
  border: 1px solid var(--ring);
  border-radius: 12px;
  font-size: 15px;
  background: #fff;
}

.track-form select {
  height: 46px;
  padding: 10px 14px;
  border: 1px solid var(--ring);
  border-radius: 12px;
  font-size: 15px;
  background: #fff;
}

/* --- Card media + favorito fijo arriba-derecha --- */
.card .media{
  position: relative;
  border-radius: 12px;
  overflow: hidden;           /* para que el coraz贸n siga el borde redondeado */
}

.card .media img{
  display:block;
  width:100%;
  aspect-ratio: 4/5;
  object-fit: cover;
  background:#e9ecef;
}

/* bot贸n coraz贸n */
.fav-toggle{
  position:absolute;
  top:10px;
  right:10px;
  z-index: 3;                 /* por encima de la imagen */
  width:36px; height:36px;
  display:inline-flex; align-items:center; justify-content:center;
  border:1px solid var(--ring);
  background:#fff;
  border-radius:999px;
  box-shadow:0 4px 10px rgba(0,0,0,.08);
  font-size:18px;             /* coraz贸n grande */
  line-height:1;
  cursor:pointer;
  transition:transform .08s ease, box-shadow .2s ease, background .2s ease;
}
.fav-toggle:hover{ transform:translateY(-1px); box-shadow:0 8px 18px rgba(0,0,0,.12); }
.fav-toggle.active{ color:#e11d48; border-color:#fecdd3; background:#fff0f3; }